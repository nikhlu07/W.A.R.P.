"use strict";
/**
 * x402-stacks - Main Library Export
 * TypeScript library for implementing x402 payment protocol on Stacks blockchain
 *
 * This library follows Coinbase's x402 naming conventions:
 * - Default exports (no suffix): V2 Coinbase-compatible protocol
 * - V1 suffix: Legacy protocol for backward compatibility
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.satsToBTC = exports.STXtoMicroSTX = exports.microSTXtoSTX = exports.x402PaymentRequired = exports.paymentRateLimitV1 = exports.tieredPaymentV1 = exports.conditionalPaymentV1 = exports.createPaymentGateV1 = exports.getPaymentV1 = exports.paymentMiddlewareV1 = exports.X402PaymentVerifierV1 = exports.X402PaymentClient = exports.withPaymentInterceptor = exports.encodeXPaymentResponse = exports.decodeXPaymentResponse = exports.privateKeyToAccountV1 = exports.createPaymentClientV1 = exports.wrapAxiosWithPaymentV1 = exports.X402_HEADERS_V2 = exports.X402_ERROR_CODES = exports.X402_HEADERS = exports.STACKS_NETWORKS = exports.paymentRateLimitV2 = exports.tieredPaymentV2 = exports.conditionalPaymentV2 = exports.createPaymentGateV2 = exports.getPaymentV2 = exports.x402PaymentRequiredV2 = exports.parsePaymentResponseHeader = exports.parsePaymentRequiredHeader = exports.paymentRateLimit = exports.tieredPayment = exports.conditionalPayment = exports.createPaymentGate = exports.getPayment = exports.paymentMiddleware = exports.createVerifierV2 = exports.X402PaymentVerifierV2 = exports.createVerifier = exports.X402PaymentVerifier = exports.privateKeyToAccountV2 = exports.createPaymentClientV2 = exports.withPaymentInterceptorV2 = exports.getPaymentResponseFromHeaders = exports.encodePaymentPayload = exports.decodePaymentRequired = exports.decodePaymentResponse = exports.privateKeyToAccount = exports.createPaymentClient = exports.wrapAxiosWithPayment = void 0;
exports.assetFromV2 = exports.assetToV2 = exports.isValidStacksCAIP2 = exports.networkFromCAIP2 = exports.networkToCAIP2 = exports.truncateAddress = exports.createExpirationTimestamp = exports.isPaymentRequestExpired = exports.retryWithBackoff = exports.waitWithBackoff = exports.estimateFee = exports.createPaymentMemo = exports.parsePaymentMemo = exports.formatPaymentAmount = exports.getTokenSmallestUnit = exports.getTokenDecimals = exports.getTokenSymbol = exports.getDefaultUSDCxContract = exports.getDefaultSBTCContract = exports.getNetworkInstance = exports.getExplorerURL = exports.getAPIEndpoint = exports.getAddressNetwork = exports.isValidStacksAddress = exports.generateKeypair = exports.microUSDCxToUSDCx = exports.USDCxToMicroUSDCx = exports.BTCtoSats = void 0;
// ===== DEFAULT EXPORTS (Coinbase Compatible V2) =====
// Client (axios interceptor pattern)
var interceptor_v2_1 = require("./interceptor-v2");
Object.defineProperty(exports, "wrapAxiosWithPayment", { enumerable: true, get: function () { return interceptor_v2_1.wrapAxiosWithPayment; } });
Object.defineProperty(exports, "createPaymentClient", { enumerable: true, get: function () { return interceptor_v2_1.createPaymentClient; } });
Object.defineProperty(exports, "privateKeyToAccount", { enumerable: true, get: function () { return interceptor_v2_1.privateKeyToAccount; } });
Object.defineProperty(exports, "decodePaymentResponse", { enumerable: true, get: function () { return interceptor_v2_1.decodePaymentResponse; } });
Object.defineProperty(exports, "decodePaymentRequired", { enumerable: true, get: function () { return interceptor_v2_1.decodePaymentRequired; } });
Object.defineProperty(exports, "encodePaymentPayload", { enumerable: true, get: function () { return interceptor_v2_1.encodePaymentPayload; } });
Object.defineProperty(exports, "getPaymentResponseFromHeaders", { enumerable: true, get: function () { return interceptor_v2_1.getPaymentResponseFromHeaders; } });
// Backward compatibility aliases
Object.defineProperty(exports, "withPaymentInterceptorV2", { enumerable: true, get: function () { return interceptor_v2_1.withPaymentInterceptorV2; } });
Object.defineProperty(exports, "createPaymentClientV2", { enumerable: true, get: function () { return interceptor_v2_1.createPaymentClientV2; } });
Object.defineProperty(exports, "privateKeyToAccountV2", { enumerable: true, get: function () { return interceptor_v2_1.privateKeyToAccountV2; } });
// Server components
var verifier_v2_1 = require("./verifier-v2");
Object.defineProperty(exports, "X402PaymentVerifier", { enumerable: true, get: function () { return verifier_v2_1.X402PaymentVerifier; } });
Object.defineProperty(exports, "createVerifier", { enumerable: true, get: function () { return verifier_v2_1.createVerifier; } });
// Backward compatibility aliases
Object.defineProperty(exports, "X402PaymentVerifierV2", { enumerable: true, get: function () { return verifier_v2_1.X402PaymentVerifierV2; } });
Object.defineProperty(exports, "createVerifierV2", { enumerable: true, get: function () { return verifier_v2_1.createVerifierV2; } });
// Middleware
var middleware_v2_1 = require("./middleware-v2");
Object.defineProperty(exports, "paymentMiddleware", { enumerable: true, get: function () { return middleware_v2_1.paymentMiddleware; } });
Object.defineProperty(exports, "getPayment", { enumerable: true, get: function () { return middleware_v2_1.getPayment; } });
Object.defineProperty(exports, "createPaymentGate", { enumerable: true, get: function () { return middleware_v2_1.createPaymentGate; } });
Object.defineProperty(exports, "conditionalPayment", { enumerable: true, get: function () { return middleware_v2_1.conditionalPayment; } });
Object.defineProperty(exports, "tieredPayment", { enumerable: true, get: function () { return middleware_v2_1.tieredPayment; } });
Object.defineProperty(exports, "paymentRateLimit", { enumerable: true, get: function () { return middleware_v2_1.paymentRateLimit; } });
Object.defineProperty(exports, "parsePaymentRequiredHeader", { enumerable: true, get: function () { return middleware_v2_1.parsePaymentRequiredHeader; } });
Object.defineProperty(exports, "parsePaymentResponseHeader", { enumerable: true, get: function () { return middleware_v2_1.parsePaymentResponseHeader; } });
// Backward compatibility aliases
Object.defineProperty(exports, "x402PaymentRequiredV2", { enumerable: true, get: function () { return middleware_v2_1.x402PaymentRequiredV2; } });
Object.defineProperty(exports, "getPaymentV2", { enumerable: true, get: function () { return middleware_v2_1.getPaymentV2; } });
Object.defineProperty(exports, "createPaymentGateV2", { enumerable: true, get: function () { return middleware_v2_1.createPaymentGateV2; } });
Object.defineProperty(exports, "conditionalPaymentV2", { enumerable: true, get: function () { return middleware_v2_1.conditionalPaymentV2; } });
Object.defineProperty(exports, "tieredPaymentV2", { enumerable: true, get: function () { return middleware_v2_1.tieredPaymentV2; } });
Object.defineProperty(exports, "paymentRateLimitV2", { enumerable: true, get: function () { return middleware_v2_1.paymentRateLimitV2; } });
// Constants
var types_v2_1 = require("./types-v2");
Object.defineProperty(exports, "STACKS_NETWORKS", { enumerable: true, get: function () { return types_v2_1.STACKS_NETWORKS; } });
Object.defineProperty(exports, "X402_HEADERS", { enumerable: true, get: function () { return types_v2_1.X402_HEADERS; } });
Object.defineProperty(exports, "X402_ERROR_CODES", { enumerable: true, get: function () { return types_v2_1.X402_ERROR_CODES; } });
// Backward compatibility alias
Object.defineProperty(exports, "X402_HEADERS_V2", { enumerable: true, get: function () { return types_v2_1.X402_HEADERS_V2; } });
// ===== V1 EXPORTS (Legacy) =====
// V1 Client
var interceptor_1 = require("./interceptor");
Object.defineProperty(exports, "wrapAxiosWithPaymentV1", { enumerable: true, get: function () { return interceptor_1.wrapAxiosWithPaymentV1; } });
Object.defineProperty(exports, "createPaymentClientV1", { enumerable: true, get: function () { return interceptor_1.createPaymentClientV1; } });
Object.defineProperty(exports, "privateKeyToAccountV1", { enumerable: true, get: function () { return interceptor_1.privateKeyToAccountV1; } });
Object.defineProperty(exports, "decodeXPaymentResponse", { enumerable: true, get: function () { return interceptor_1.decodeXPaymentResponse; } });
Object.defineProperty(exports, "encodeXPaymentResponse", { enumerable: true, get: function () { return interceptor_1.encodeXPaymentResponse; } });
// Original names (deprecated)
Object.defineProperty(exports, "withPaymentInterceptor", { enumerable: true, get: function () { return interceptor_1.withPaymentInterceptor; } });
// V1 Legacy client (class-based)
var client_1 = require("./client");
Object.defineProperty(exports, "X402PaymentClient", { enumerable: true, get: function () { return client_1.X402PaymentClient; } });
// V1 Server components
var verifier_1 = require("./verifier");
Object.defineProperty(exports, "X402PaymentVerifierV1", { enumerable: true, get: function () { return verifier_1.X402PaymentVerifierV1; } });
// V1 Middleware
var middleware_1 = require("./middleware");
Object.defineProperty(exports, "paymentMiddlewareV1", { enumerable: true, get: function () { return middleware_1.paymentMiddlewareV1; } });
Object.defineProperty(exports, "getPaymentV1", { enumerable: true, get: function () { return middleware_1.getPaymentV1; } });
Object.defineProperty(exports, "createPaymentGateV1", { enumerable: true, get: function () { return middleware_1.createPaymentGateV1; } });
Object.defineProperty(exports, "conditionalPaymentV1", { enumerable: true, get: function () { return middleware_1.conditionalPaymentV1; } });
Object.defineProperty(exports, "tieredPaymentV1", { enumerable: true, get: function () { return middleware_1.tieredPaymentV1; } });
Object.defineProperty(exports, "paymentRateLimitV1", { enumerable: true, get: function () { return middleware_1.paymentRateLimitV1; } });
// Original names (deprecated)
Object.defineProperty(exports, "x402PaymentRequired", { enumerable: true, get: function () { return middleware_1.x402PaymentRequired; } });
// ===== UTILITIES (shared) =====
var utils_1 = require("./utils");
// Currency conversion
Object.defineProperty(exports, "microSTXtoSTX", { enumerable: true, get: function () { return utils_1.microSTXtoSTX; } });
Object.defineProperty(exports, "STXtoMicroSTX", { enumerable: true, get: function () { return utils_1.STXtoMicroSTX; } });
Object.defineProperty(exports, "satsToBTC", { enumerable: true, get: function () { return utils_1.satsToBTC; } });
Object.defineProperty(exports, "BTCtoSats", { enumerable: true, get: function () { return utils_1.BTCtoSats; } });
Object.defineProperty(exports, "USDCxToMicroUSDCx", { enumerable: true, get: function () { return utils_1.USDCxToMicroUSDCx; } });
Object.defineProperty(exports, "microUSDCxToUSDCx", { enumerable: true, get: function () { return utils_1.microUSDCxToUSDCx; } });
// Account utilities
Object.defineProperty(exports, "generateKeypair", { enumerable: true, get: function () { return utils_1.generateKeypair; } });
Object.defineProperty(exports, "isValidStacksAddress", { enumerable: true, get: function () { return utils_1.isValidStacksAddress; } });
Object.defineProperty(exports, "getAddressNetwork", { enumerable: true, get: function () { return utils_1.getAddressNetwork; } });
// Network utilities
Object.defineProperty(exports, "getAPIEndpoint", { enumerable: true, get: function () { return utils_1.getAPIEndpoint; } });
Object.defineProperty(exports, "getExplorerURL", { enumerable: true, get: function () { return utils_1.getExplorerURL; } });
Object.defineProperty(exports, "getNetworkInstance", { enumerable: true, get: function () { return utils_1.getNetworkInstance; } });
// Token utilities
Object.defineProperty(exports, "getDefaultSBTCContract", { enumerable: true, get: function () { return utils_1.getDefaultSBTCContract; } });
Object.defineProperty(exports, "getDefaultUSDCxContract", { enumerable: true, get: function () { return utils_1.getDefaultUSDCxContract; } });
Object.defineProperty(exports, "getTokenSymbol", { enumerable: true, get: function () { return utils_1.getTokenSymbol; } });
Object.defineProperty(exports, "getTokenDecimals", { enumerable: true, get: function () { return utils_1.getTokenDecimals; } });
Object.defineProperty(exports, "getTokenSmallestUnit", { enumerable: true, get: function () { return utils_1.getTokenSmallestUnit; } });
// Payment utilities
Object.defineProperty(exports, "formatPaymentAmount", { enumerable: true, get: function () { return utils_1.formatPaymentAmount; } });
Object.defineProperty(exports, "parsePaymentMemo", { enumerable: true, get: function () { return utils_1.parsePaymentMemo; } });
Object.defineProperty(exports, "createPaymentMemo", { enumerable: true, get: function () { return utils_1.createPaymentMemo; } });
Object.defineProperty(exports, "estimateFee", { enumerable: true, get: function () { return utils_1.estimateFee; } });
// Timing utilities
Object.defineProperty(exports, "waitWithBackoff", { enumerable: true, get: function () { return utils_1.waitWithBackoff; } });
Object.defineProperty(exports, "retryWithBackoff", { enumerable: true, get: function () { return utils_1.retryWithBackoff; } });
Object.defineProperty(exports, "isPaymentRequestExpired", { enumerable: true, get: function () { return utils_1.isPaymentRequestExpired; } });
Object.defineProperty(exports, "createExpirationTimestamp", { enumerable: true, get: function () { return utils_1.createExpirationTimestamp; } });
// Display utilities
Object.defineProperty(exports, "truncateAddress", { enumerable: true, get: function () { return utils_1.truncateAddress; } });
// CAIP-2 utilities
Object.defineProperty(exports, "networkToCAIP2", { enumerable: true, get: function () { return utils_1.networkToCAIP2; } });
Object.defineProperty(exports, "networkFromCAIP2", { enumerable: true, get: function () { return utils_1.networkFromCAIP2; } });
Object.defineProperty(exports, "isValidStacksCAIP2", { enumerable: true, get: function () { return utils_1.isValidStacksCAIP2; } });
Object.defineProperty(exports, "assetToV2", { enumerable: true, get: function () { return utils_1.assetToV2; } });
Object.defineProperty(exports, "assetFromV2", { enumerable: true, get: function () { return utils_1.assetFromV2; } });
