/**
 * x402-stacks - Payment Verifier (Coinbase Compatible)
 * Handles verification and settlement of payments using x402 protocol
 */
import { NetworkV2, PaymentRequirementsV2, PaymentPayloadV2, VerifyResponseV2, SettlementResponseV2, SupportedResponse } from './types-v2';
/**
 * Options for verifying a payment
 */
export interface VerifyOptions {
    /** Payment requirements from the resource server */
    paymentRequirements: PaymentRequirementsV2;
}
/**
 * Options for settling a payment
 */
export interface SettleOptions {
    /** Payment requirements from the resource server */
    paymentRequirements: PaymentRequirementsV2;
}
/**
 * Payment verifier for validating x402 payments on Stacks
 * Compatible with Coinbase x402 protocol
 */
export declare class X402PaymentVerifier {
    private facilitatorUrl;
    private httpClient;
    constructor(facilitatorUrl?: string);
    /**
     * Verify a payment using the V2 facilitator API
     * This verifies the signed transaction without broadcasting it
     */
    verify(paymentPayload: PaymentPayloadV2, options: VerifyOptions): Promise<VerifyResponseV2>;
    /**
     * Settle a payment using the V2 facilitator API
     * This broadcasts the transaction and waits for confirmation
     */
    settle(paymentPayload: PaymentPayloadV2, options: SettleOptions): Promise<SettlementResponseV2>;
    /**
     * Get supported payment kinds from the facilitator
     */
    getSupported(): Promise<SupportedResponse>;
    /**
     * Check if a specific payment kind is supported
     */
    isKindSupported(network: NetworkV2, scheme?: string, x402Version?: number): Promise<boolean>;
    /**
     * Verify and settle in one operation
     * First verifies the payment, then settles if valid
     */
    verifyAndSettle(paymentPayload: PaymentPayloadV2, options: VerifyOptions & SettleOptions): Promise<SettlementResponseV2>;
    /**
     * Create a payment payload from a signed transaction
     * Helper for constructing V2 payment payloads
     */
    static createPaymentPayload(signedTransaction: string, paymentRequirements: PaymentRequirementsV2): PaymentPayloadV2;
    /**
     * Quick check if a payment is valid (returns boolean only)
     */
    isPaymentValid(paymentPayload: PaymentPayloadV2, options: VerifyOptions): Promise<boolean>;
}
/**
 * Create a verifier instance
 */
export declare function createVerifier(facilitatorUrl?: string): X402PaymentVerifier;
/** @deprecated Use X402PaymentVerifier instead */
export declare const X402PaymentVerifierV2: typeof X402PaymentVerifier;
/** @deprecated Use createVerifier instead */
export declare const createVerifierV2: typeof createVerifier;
/** @deprecated Use VerifyOptions instead */
export type VerifyOptionsV2 = VerifyOptions;
/** @deprecated Use SettleOptions instead */
export type SettleOptionsV2 = SettleOptions;
